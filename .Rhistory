deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars.unscaled,
family=binomial)
plot(rep.model.nonlin.unscaled, main="Effect of MDI on Civil War Across Levels of MDI")
abline(a=0,b=0, col = "red", lty = 9)
warren$mdi[warren$logmdi==2]
model1vars.unscaled$mdi[model1vars.unscaled$logmdi==2]
model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.9 & model1vars.unscaled$logmdi<=2.1]
model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.9 & model1vars.unscaled$logmdi<=2.0]
model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.9 & model1vars.unscaled$logmdi<=2.0]
summary(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=2 & model1vars.unscaled$logmdi<=3])
summary(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.9 & model1vars.unscaled$logmdi<=2.1])
summary(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=2 & model1vars.unscaled$logmdi<=3])
min(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=2 & model1vars.unscaled$logmdi<=3])
min(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=2 & model1vars.unscaled$logmdi<=3], na.rm=TRUE)
rep.belowmed<-zelig(onset ~ mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=subset(model1vars, mdi<quantile(model1vars$mdi, .60, na.rm=TRUE)),
model="relogit",
robust=TRUE,
cite=F)
summary(rep.belowmed)
mdi<quantile(model1vars$mdi, .60, na.rm=TRUE)
quantile(model1vars$mdi, .60, na.rm=TRUE)
quantile(model1vars.unscaled$mdi, .60, na.rm=TRUE)
quantile(warren$mdi, .25, na.rm=TRUE)
lowmdi<-subset(warren, mdi<= 6.392)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
options(scipen=999)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 19)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 14)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 10)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 11)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
quantile(warren$mdi, .25, na.rm=TRUE)
lowmdi<-subset(warren, mdi<= 12)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
lowmdi<-subset(warren, mdi<= 11)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
lowmdi<-subset(warren, mdi<= 12)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 11)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 10)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
threshold<-mean(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.95 & model1vars.unscaled$logmdi<=2.05], na.rm=TRUE)
threshold
length(model1vars.unscaled$mdi<=threshold)
threshold<-mean(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.95 & model1vars.unscaled$logmdi<=2.05], na.rm=TRUE)
length(model1vars.unscaled[model1vars.unscaled$mdi<=threshold])
length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])
length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])/length(model1vars.unscaled$country)
length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])/length(model1vars.unscaled$country*100)
length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])/length(model1vars.unscaled$country)*100
round(length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])/length(model1vars.unscaled$country)*100)
threshold<-mean(model1vars.unscaled$mdi[model1vars.unscaled$logmdi>=1.95 & model1vars.unscaled$logmdi<=2.05], na.rm=TRUE)
threshold
quantile(warren$mdi, .25, na.rm=TRUE)
lowmdi<-subset(warren, mdi<= 6.392)
lowmdi<-subset(warren, mdi<= threshold)
lowmdi<-subset(warren, mdi<= 6.392)
lowmdi<-subset(warren, mdi<= threshold)
length(model1vars.unscaled$country[model1vars.unscaled$mdi<=threshold])
length(subset(warren, mdi<= quantile(warren$mdi, .25, na.rm=TRUE)))
round(length(warren$country[warren$mdi<=threshold])/length(warren$country)*100)
lowmdi<-subset(warren, mdi<= quantile(warren$mdi, .25, na.rm=TRUE))
quantile(warren$mdi, .25, na.rm=TRUE)
quantile(warren$mdi, .26, na.rm=TRUE)
quantile(warren$mdi, .23, na.rm=TRUE)
quantile(warren$mdi, .20, na.rm=TRUE)
lowmdi<-subset(warren, mdi<= 6.392)
lowmdi<-subset(warren, mdi<= threshold)
lowmdi<-subset(warren, mdi<= 6.392)
lowmdi<-subset(warren, mdi<= threshold)
lowmdi<-subset(warren, mdi<= quantile(warren$mdi, .20, na.rm=TRUE))
lowmdi<-subset(warren, mdi<= quantile(warren$mdi, .25, na.rm=TRUE))
threshold<-mean(warren$mdi[warren$logmdi>=1.99 & warren$logmdi<=2.01], na.rm=TRUE)
length(warren[warren$mdi<=threshold])
length(warren$country[warren$mdi<=threshold])
threshold<-mean(warren$mdi[warren$logmdi>=1.99 & warren$logmdi<=2.01], na.rm=TRUE)
length(warren$country[warren$mdi<=threshold])
length(warren$country[warren$mdi<=threshold])
round(length(warren$country[warren$mdi<=threshold])/length(warren$country)*100)
lowmdi<-subset(warren, mdi<= 6.392)
length(warren$mdi[warren$mdi<=threshold])
round(length(warren$mdi[warren$mdi<=threshold])/length(warren$mdi)*100)
lowmdi<-subset(warren, mdi<= 6.392)
length(subset(warren, mdi<=threshold))
nrow(subset(warren, mdi<=threshold))
Nrow(subset(warren, mdi<=threshold))
nRow(subset(warren, mdi<=threshold))
nrow(subset(warren, mdi<=threshold))
round(nrow(subset(warren, mdi<=threshold))/length(warren$mdi)*100)
threshold
lowmdi<-subset(warren, mdi<= 4)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 3)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
lowmdi<-subset(warren, mdi<= 4)
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
summary(diff.model)
quantile(warren$mdi, .25, na.rm=TRUE)
quantile(warren$mdi, .30, na.rm=TRUE)
stargazer(anov,
summary=FALSE,
title="ANOVA Comparing Linear and Non-Linear Effects of MDI on Civil War Onset",
digits = 2,
style = "io",
font.size="footnotesize",
header=FALSE)
setwd("~/Dropbox/gh_projects/media_civil_war")
require(ggplot2)
require(reshape2)
require(foreign)
require(Zelig)
require(stargazer)
require(arm)
warren<-read.csv("data/warren.csv")
model1vars<-subset(warren, select=c("country", "year", "onset", "oil2l", "mdi", "logmdi", "mdi2", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ltv", "lradio", "lnews",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model1vars.unscaled<-model1vars
model1vars<-model1vars[complete.cases(model1vars),]
model1vars[-(1:4)]<-sapply(model1vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(ZeligGAM)
### Testing non-linearity
# Using MGCV
rep.model.lin.log <- gam(onset ~ logmdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars.unscaled,
family=binomial)
# summary(rep.model.lin.log)
rep.model.nonlin <- gam(onset ~ s(logmdi) + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars.unscaled,
family=binomial)
# summary(rep.model.nonlin)
anov<-anova(rep.model.lin.log, rep.model.nonlin, test="Chisq")
# plot(rep.model.nonlin, main="Effect of MDI on Civil War Across Levels of MDI")
# abline(a=0,b=0, col = "red", lty = 9)
threshold<-mean(warren$mdi[warren$logmdi>=1.99 & warren$logmdi<=2.01], na.rm=TRUE)
length(warren$country[warren$mdi<=threshold])
rep.model.tv.nonlin <- gam(onset ~ s(log(ltv+1)) + log(lnews+1) + log(lradio+1) + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars,
family=binomial)
# summary(rep.model.tv.nonlin)
# plot(rep.model.tv.nonlin, main="Effect of TV Density on Civil War Across Levels of TV Density")
# abline(a=0,b=0, col = "red", lty = 9)
rep.model.radio.nonlin <- gam(onset ~ s(log(lradio+1)) + log(ltv+1) + log(lnews+1) +  lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars,
family=binomial)
# summary(rep.model.radio.nonlin)
# plot(rep.model.radio.nonlin, main="Effect of Radio Density on Civil War Across Levels of Radio Density")
# abline(a=0,b=0, col = "red", lty = 9)
rep.model.news.nonlin <- gam(onset ~ s(log(lnews+1)) + log(ltv+1) + log(lradio+1) + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars,
family=binomial)
#summary(rep.model.news.nonlin)
# plot(rep.model.news.nonlin, main="Effect of Radio Density on Civil War Across Levels of Radio Density")
# abline(a=0,b=0, col = "darkred", lty = 9)
# Using Zelig
z.nonlin <- zelig(onset ~ s(logmdi) + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars,
model="logit.gam")
# summary(z.nonlin)
# quantile(warren$mdi, .05, na.rm=TRUE)
# quantile(warren$mdi, .25, na.rm=TRUE)
x.low <- setx(z.nonlin, logmdi= -1.18) # lowest value
x.high <- setx(z.nonlin, logmdi= quantile(model1vars$logmdi, .25)) # 25% of cases
s.out <- sim(z.nonlin, x=x.low, x1=x.high)
# summary(s.out)
# plot(s.out)
x.real.high <- setx(z.nonlin, logmdi= quantile(model1vars$logmdi, .90, na.rm=TRUE)) # 25% of cases
s.out <- sim(z.nonlin, x=x.low, x1=x.real.high)
# summary(s.out)
# plot(s.out)
rep.model<-zelig(onset ~ mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=model1vars,
model="relogit",
robust=TRUE,
cite=F)
rep.belowsixtieth<-zelig(onset ~ mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=subset(model1vars, mdi<quantile(model1vars$mdi, .60, na.rm=TRUE)),
model="relogit",
robust=TRUE,
cite=F)
# summary(rep.belowsixtieth)
# rep.model.mass<-zelig(onset ~ mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
#                    deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
#                    spline3,
#                  data=subset(model1vars, mdi>= quantile(model1vars$mdi, .25, na.rm=TRUE)),
#                  model="relogit",
#                  robust=TRUE,
#                  cite=F)
#
# subset(warren, mdi<= quantile(warren$mdi, .25, na.rm=TRUE))
low.model1vars<-subset(warren, mdi<= 10)
(table(warren$onset)[2]/table(warren$onset)[1])*100
(table(low.model1vars$onset)[2]/table(low.model1vars$onset)[1])*100
rep.model2<-zelig(onset ~ mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 +
spline3,
data=low.model1vars,
model="relogit",
robust=TRUE,
cite=F)
summary(rep.model2)
lowmdi<-subset(warren, mdi<= quantile(warren$mdi, .25, na.rm=TRUE))
model2vars<-subset(lowmdi, select=c("country", "year", "onset", "oil2l", "mdi", "lgdpl", "larea",
"lmtn", "lpopl", "deml", "ld.mdi", "ld.tv", "ld.news", "ld.radio",
"deml2", "ethfracl", "relfracl", "pcyrs", "spline1", "spline2", "spline3"))
model2vars<-model2vars[complete.cases(model2vars),]
lowmdi<-model2vars
lowmdi<-lowmdi[complete.cases(lowmdi),]
detach("package:ZeligGAM", unload=TRUE)
detach("package:Zelig", unload=TRUE)
require(arm)
model2vars[-(1:4)]<-sapply(model2vars[-(1:4)], function(x) rescale(x))
detach("package:arm", unload=TRUE)
require(Zelig)
diff.model<-zelig(onset ~ ld.mdi + lgdpl + larea + lmtn + lpopl + oil2l + deml +
deml2 + ethfracl + relfracl + pcyrs + spline1 + spline2 + spline3,
data=model2vars,
model="relogit",
robust=TRUE,
cite=F)
stargazer(anov,
summary=FALSE,
title="ANOVA Comparing Linear and Non-Linear Effects of MDI on Civil War Onset",
digits = 2,
style = "io",
font.size="footnotesize",
header=FALSE)
anov
names(anov)
nrow(subset(warren, mdi<=threshold))
quantile(warren$mdi, .25, na.rm=TRUE)
length(subset(warren, mdi<=threshold))
count(subset(warren, mdi<=threshold)
)
nrow(subset(warren, mdi<=threshold))[1]
nrow(subset(warren, mdi<=threshold))[1,1]
length(nrow(subset(warren, mdi<=threshold)))
length(1:nrow(subset(warren, mdi<=threshold)))
nrow(subset(warren, mdi<=threshold))
warren$mdi[warren$mdi>=threshold]
length(warren$mdi[warren$mdi>=threshold])
length(warren$mdi[warren$mdi<=threshold])
length(complete.cases(warren$mdi[warren$mdi<=threshold]))
length(complete.obs(warren$mdi[warren$mdi<=threshold]))
?complete.cases
length(complete.cases(warren$mdi[warren$mdi<=threshold]))
length(warren$mdi[warren$mdi<=threshold])
round(length(warren$mdi[warren$mdi<=threshold])/length(warren$mdi)*100)
print(nrow(subset(warren, mdi<=threshold)))
round(nrow(subset(warren, mdi<=threshold))/length(warren$mdi)*100)
numcases<-nrow(subset(warren, mdi<=threshold))
numcases
numcases.percent<-round(nrow(subset(warren, mdi<=threshold))/length(warren$mdi)*100)
numcases.percent
percentunder4<-round(nrow(subset(warren, mdi<=4))/length(warren$mdi)*100)
